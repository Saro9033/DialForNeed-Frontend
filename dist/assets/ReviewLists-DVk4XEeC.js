import{n,bt as g,bu as w,q as R,p as S,r as u,v as N,k as E,w as y,bv as C,bw as m,j as e,H as h,J as x,bg as D,bx as A}from"./index-VLfZ_LXD.js";import{G as I}from"./mdbreact.esm-DvacgDJ9.js";const q=()=>{const d=n(g),l=n(w),i=n(R),c=n(S),[r,b]=u.useState(""),t=N(),{enqueueSnackbar:o}=E();u.useEffect(()=>{if(i){o(i,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{t(y())}});return}if(l){o(l,{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{t(C())}}),t(m(r));return}},[t,i,o,l]);const p=()=>{const s={columns:[{label:"Rating",field:"rating",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return d.forEach(a=>{s.rows.push({rating:a.rating,user:a.user.name,comment:a.comment,actions:e.jsx("button",{onClick:f=>v(f,a._id),className:"btn btn-primary",children:e.jsx(D,{})})})}),s},v=(s,a)=>{s.target.disabled=!0,t(A(r,a))},j=s=>{s.preventDefault(),t(m(r))};return e.jsxs("div",{children:[e.jsx(h,{className:"mt-4",children:e.jsxs(x,{children:[e.jsx("h2",{children:"All Reviews"}),e.jsx("form",{onSubmit:s=>j(s),children:e.jsxs("div",{className:"w-75 d-flex mb-3",children:[e.jsx("input",{placeholder:"Type Product Id..",className:"form-control mr-4",type:"text",value:r,onChange:s=>b(s.target.value)}),e.jsx("button",{disabled:c==="loading",className:"btn btn-primary  py-0",type:"submit",children:"Search"})]})})]})}),c==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):c==="succeeded"&&d.length===0?e.jsx("h1",{children:"No Reviews Placed"}):e.jsx(e.Fragment,{children:e.jsx(h,{children:e.jsx(x,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(I,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:p()})})})})})]})};export{q as default};
