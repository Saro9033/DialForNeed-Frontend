import{n as l,a5 as B,v as P,a6 as _,a7 as D,k as O,a8 as U,r as c,a9 as F,aa as H,ab as k,j as t,M as A,K,ac as L}from"./index-VLfZ_LXD.js";import{M as e}from"./Modal-BoySAo34.js";import{T as Q}from"./Table-yTzlROhX.js";const X=()=>{var y,f,g,b,S,N,v,w,C,I;const o=l(B),i=P(),h=l(_),z=l(D),{enqueueSnackbar:x}=O(),j=l(U);c.useEffect(()=>{h?(x(h,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),i(F())):j&&(x("Status Updated!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),i(H()),i(k()))},[i,h,x,j]),c.useEffect(()=>{i(k())},[i]);const[E,u]=c.useState(!1),[s,M]=c.useState(null),T=n=>{M(n),u(!0)},m=()=>{u(!1)},r=(n,d,a)=>{n.preventDefault(),i(L({id:d,status:a}))};return z==="loading"||o===null?t.jsx("div",{className:"d-flex align-items-start justify-content-center",children:t.jsx("div",{className:"loader"})}):t.jsxs("div",{children:[t.jsx(A,{title:"Employee Requests"}),o.length===0?t.jsx("p",{children:"No Requests"}):t.jsx("ul",{style:{listStyleType:"none"},className:"m-0 p-0",children:o.map(n=>{var d,a,W;return t.jsxs("li",{className:"p-2 my-2 rounded-2 shadow-sm border d-flex align-items-center justify-content-between",children:[t.jsxs("div",{style:{cursor:"pointer"},className:"w-100 d-flex align-items-center",onClick:()=>T(n),children:[t.jsx("img",{src:(a=(d=n.productId)==null?void 0:d.images[0])==null?void 0:a.image,width:"50",height:"50",style:{borderRadius:"50%"},className:"border",alt:""}),t.jsxs("div",{className:"d-flex flex-column pl-2",children:[t.jsx("h6",{style:{fontSize:"13px"},className:"m-0",children:(W=n.productId)==null?void 0:W.name}),t.jsx("p",{style:{fontSize:"13px"},className:"m-0 text-secondary",children:n.productId.description.slice(0,20)})]})]}),t.jsxs("div",{children:[t.jsx("div",{children:n.status.includes("pending")||n.status.includes("Pending")?"":t.jsx("span",{className:"text-success",style:{fontSize:"14px",fontWeight:"600"},children:n.status})}),(n.status==="pending"||n.status==="Pending")&&t.jsxs("div",{children:[t.jsx("button",{onClick:p=>r(p,n._id,!0),className:"btn btn-success",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Completed"}),t.jsx("br",{}),t.jsx("button",{onClick:p=>r(p,n._id,!1),className:"btn btn-danger",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Not Completed"})]})]})]},n._id)})}),t.jsxs(e,{show:E,onHide:m,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t.jsx(e.Header,{closeButton:!0,children:t.jsx(e.Title,{id:"contained-modal-title-vcenter",children:s&&((y=s.productId)==null?void 0:y.name)})}),t.jsxs(e.Body,{children:[t.jsx("div",{className:"d-flex align-items-center justify-content-center",children:t.jsx("img",{width:"80",height:"80",src:(g=(f=s==null?void 0:s.productId)==null?void 0:f.images[0])==null?void 0:g.image,alt:""})}),t.jsx(Q,{responsive:!0,borderless:!0,children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Product Name:"})}),t.jsx("td",{children:t.jsx("p",{className:"m-0",children:s&&((b=s.productId)==null?void 0:b.name)})})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Description:"})}),t.jsx("td",{children:(S=s==null?void 0:s.productId)==null?void 0:S.description})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Price:"})}),t.jsx("td",{children:s==null?void 0:s.productId.price})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Status:"})}),t.jsx("td",{children:s==null?void 0:s.status})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Quantity:"})}),t.jsx("td",{children:s==null?void 0:s.quantity})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Brand:"})}),t.jsx("td",{children:(v=(N=s==null?void 0:s.productId)==null?void 0:N.brandId)==null?void 0:v.title})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Category:"})}),t.jsx("td",{children:(C=(w=s==null?void 0:s.productId)==null?void 0:w.categoryId)==null?void 0:C.title})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Type:"})}),t.jsx("td",{children:(I=s==null?void 0:s.productId)==null?void 0:I.type})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Total Amount:"})}),t.jsx("td",{children:t.jsxs("b",{children:[" ",(s==null?void 0:s.productId.price)*(s==null?void 0:s.quantity)]})})]})]})})]}),t.jsxs(e.Footer,{children:[((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="Pending")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:n=>r(n,s==null?void 0:s._id,!0),className:"btn btn-success",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Completed"}),"  ",t.jsx("button",{onClick:n=>r(n,s==null?void 0:s._id,!1),className:"btn btn-danger",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Not Completed"})]}),t.jsx(K,{onClick:m,children:"Close"})]})]})]})};export{X as default};
