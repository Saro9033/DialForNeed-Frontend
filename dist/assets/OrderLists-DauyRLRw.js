import{n as c,aR as h,ap as x,ak as f,v as j,k as b,r as p,al as N,aL as O,j as e,H as l,J as d,a3 as g,aq as v}from"./index-VLfZ_LXD.js";import{G as E}from"./mdbreact.esm-DvacgDJ9.js";const S=()=>{const a=c(h),o=c(x),t=c(f),n=j(),{enqueueSnackbar:i}=b();p.useEffect(()=>{if(t){i(t,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{n(N())}});return}n(O())},[n,t,i]);const m=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),u=()=>{const r={columns:[{label:"Ordered On",field:"date",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Phone Number",field:"number",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Number of Items",field:"noOfItems",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return a.forEach(s=>{r.rows.push({date:new Date(s.createdAt).toLocaleDateString(),name:e.jsxs(e.Fragment,{children:[s.user.name,e.jsx("br",{}),e.jsxs("span",{className:"text-secondary",style:{fontSize:"14px"},children:["(",s.user.email,")"]})]}),number:s.user.phoneNumber,noOfItems:s.orderItems.length,amount:m(s.totalPrice),actions:e.jsx(g,{to:`/admin/order/${s._id}`,className:"btn btn-primary",children:e.jsx(v,{})})})}),r};return console.log(a),e.jsx("div",{children:o==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):o==="succeeded"&&a.length===0?e.jsx("h1",{children:"No Orders Placed"}):e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"mt-4",children:e.jsx(d,{children:e.jsx("h2",{children:"Orders"})})}),e.jsx(l,{children:e.jsx(d,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(E,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:u()})})})})]})})};export{S as default};
