import{n,aU as k,b8 as U,bJ as _,bK as F,bL as R,bM as V,v as z,k as G,r as c,bN as J,bO as K,aN as o,bP as P,bQ as T,j as e,H as u,J as r,K as w,bc as y,bR as W,bf as q,bg as H,bS as L,bT as M}from"./index-VLfZ_LXD.js";import{G as O}from"./mdbreact.esm-DvacgDJ9.js";const Y=()=>{const m=n(k),p=n(U),x=n(_),j=n(F),f=n(R),g=n(V),a=z(),{enqueueSnackbar:d}=G(),[l,h]=c.useState(""),[v,B]=c.useState(null),[b,C]=c.useState("");c.useEffect(()=>{x&&(d(x,{variant:"error"}),a(J())),j&&(d("Brand Added",{variant:"success"}),a(K()),a(o())),f&&(d("Brand Updated",{variant:"success"}),a(P()),a(o())),g&&(d("Category Deleted",{variant:"success"}),a(T()),a(o())),a(o())},[a,x,d,j,f,g]);const N=s=>{s.preventDefault(),l.trim()!==""&&(a(W(l.trim())),h(""))},D=s=>{var i;B(s);const t=(i=m.find(E=>E._id===s))==null?void 0:i.title;C(t)},I=s=>{console.log(b),a(L({id:s,title:b})),B(null)},S=s=>{window.confirm("Are you sure you want to delete this brand?")&&a(M(s))},A=()=>{const s={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Brands",field:"name",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return m.forEach(t=>{s.rows.push({id:t._id,name:v===t._id?e.jsx("input",{type:"text",value:b,onChange:i=>C(i.target.value),className:"form-control"}):t.title,actions:v===t._id?e.jsx("button",{onClick:()=>I(t._id),className:"btn btn-primary",children:"Update"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>D(t._id),className:"btn btn-primary",children:[" ",e.jsx(q,{}),"  "]}),e.jsx("button",{onClick:()=>S(t._id),className:"btn btn-danger py-1 px-2 ml-2",children:e.jsx(H,{})})]})})}),s};return e.jsx("div",{children:p==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):p==="succeeded"&&m.length===0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"No Brands Placed"}),e.jsxs(u,{className:"w-100 mb-3",children:[e.jsx(r,{xs:10,sm:10,md:10,lg:10,children:e.jsx("input",{className:"form-control",type:"text",value:l,onChange:s=>h(s.target.value)})}),e.jsx(r,{xs:2,sm:2,md:2,lg:2,children:e.jsxs(w,{type:"button",variant:"primary",onClick:N,children:[window.innerWidth<800?"":"ADD ",e.jsx(y,{fontSize:"1.5rem"})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mt-4",children:e.jsx(r,{children:e.jsx("h2",{children:"All Brands"})})}),e.jsxs(u,{className:"w-100 mb-3",children:[e.jsx(r,{xs:10,sm:10,md:10,lg:10,children:e.jsx("input",{className:"form-control",type:"text",value:l,onChange:s=>h(s.target.value)})}),e.jsx(r,{xs:2,sm:2,md:2,lg:2,children:e.jsxs(w,{type:"button",variant:"primary",onClick:N,children:[window.innerWidth<800?"":"ADD ",e.jsx(y,{fontSize:"1.5rem"})]})})]}),e.jsx(u,{children:e.jsx(r,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(O,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:A()})})})})]})})};export{Y as default};
