import{n as i,B as m,v as u,ap as h,r as x,D as j,j as e,M as f,G as g,H as c,J as o,a3 as p,aq as b}from"./index-VLfZ_LXD.js";import{G as N}from"./mdbreact.esm-DvacgDJ9.js";const O=()=>{const r=i(m),a=u(),n=i(h);x.useEffect(()=>{a(j())},[a]);const l=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),d=()=>{const t={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Number of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Ordered on",field:"date",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return r.forEach(s=>{t.rows.push({id:s._id,numOfItems:s.orderItems.length,amount:l(s.totalPrice),date:new Date(s.createdAt).toLocaleDateString(),actions:e.jsx(p,{to:`/order/${s._id}`,className:"btn btn-primary",children:e.jsx(b,{})})})}),t};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"My Orders"}),e.jsx(g,{style:{minHeight:"100vh"},children:e.jsxs(e.Fragment,{children:[" ",n==="loading"?e.jsxs("div",{className:"d-flex align-items-start justify-content-center",children:[e.jsx("div",{className:"loader"})," "]}):n==="succeeded"&&r.length==0?e.jsx("h1",{children:"No Orders Placed"}):e.jsxs(e.Fragment,{children:["  ",e.jsx(c,{className:"mt-4",children:e.jsx(o,{children:e.jsx("h2",{children:"My Orders"})})}),e.jsx(c,{children:e.jsx(o,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(N,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:d()})})})})]}),"  "]})})]})};export{O as default};
