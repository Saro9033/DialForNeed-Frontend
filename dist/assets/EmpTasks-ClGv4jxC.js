import{n as r,at as p,a7 as h,a6 as f,au as y,v as j,k as g,r as v,j as e,M as N,a3 as R,a2 as S,a9 as b,av as q,aw as D,ax as I}from"./index-VLfZ_LXD.js";const T=()=>{const n=r(p)||[],u=r(h),o=r(f),i=r(y),a=j(),{enqueueSnackbar:d}=g();v.useEffect(()=>{(async()=>{try{o&&(d(o,{variant:"error"}),a(b())),i&&(d("Requested",{variant:"success"}),a(q())),a(D())}catch(t){console.error("Error fetching tasks:",t)}})()},[a,o,i,d]),console.log(n);const m=async(s,t)=>{s.preventDefault(),a(I(t))};return e.jsxs("div",{children:[e.jsx(N,{title:"Employee Tasks"}),u==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):n.length==0?e.jsx("p",{children:"No Tasks"}):e.jsx("ul",{style:{listStyleType:"none"},className:"m-0 p-0",children:n.map(s=>{var t,l,c;return e.jsxs(R,{style:{textDecoration:"none",color:"unset"},to:`/taskDetails/${s._id}`,className:"p-2 my-2 rounded-2 shadow-sm border d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center ",children:[e.jsx("img",{src:s.order.user.avatar?s.order.user.avatar:S,width:"50",height:"50",style:{borderRadius:"50%"},className:"border",alt:""}),e.jsxs("div",{className:"d-flex flex-column pl-2",children:[e.jsx("h5",{className:"m-0",children:s.order.user.name}),e.jsxs("p",{style:{fontSize:"14px"},className:"m-0 text-secondary",children:["  Order on ",new Date((t=s.order)==null?void 0:t.paidAt).toLocaleDateString()," "]})]})]}),e.jsxs("div",{children:[e.jsx("div",{children:s.orderItem.status.includes("pending")||s.orderItem.status.includes("Pending")?e.jsx("span",{className:"text-danger",style:{fontSize:"14px",fontWeight:"600"},children:s.orderItem.status}):e.jsx("span",{className:"text-success",style:{fontSize:"14px",fontWeight:"600"},children:s.orderItem.status})}),e.jsx("button",{type:"button",onClick:x=>m(x,s.orderItem._id),className:`btn ${(l=s.orderItem)!=null&&l.isRequested?"btn-outline-primary":"btn-primary"}`,style:{fontSize:"12px",padding:"3px 6px"},children:(c=s.orderItem)!=null&&c.isRequested?"Requested":"Send Request"})]})]},s._id)})})]})};export{T as default};
