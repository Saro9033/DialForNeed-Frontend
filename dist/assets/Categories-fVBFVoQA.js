import{n as r,aT as U,b7 as _,by as F,bz as z,bA as G,bB as V,v as B,k as H,r as d,bC as R,bD as T,aM as c,bE as W,bF as q,j as e,H as u,J as n,K as w,bc as D,bG as J,bf as K,bg as M,bH as P,bI as L}from"./index-VLfZ_LXD.js";import{G as O}from"./mdbreact.esm-DvacgDJ9.js";const Y=()=>{const m=r(U),C=r(_),x=r(F),p=r(z),b=r(G),j=r(V),t=B(),{enqueueSnackbar:i}=H(),[o,g]=d.useState(""),[y,f]=d.useState(null),[h,v]=d.useState("");d.useEffect(()=>{x&&(i(x,{variant:"error"}),t(R())),p&&(i("Category Added",{variant:"success"}),t(T()),t(c())),b&&(i("Category Updated",{variant:"success"}),t(W()),t(c())),j&&(i("Category Deleted",{variant:"success"}),t(q()),t(c())),t(c())},[t,x,i,p,b,j]);const N=s=>{s.preventDefault(),o.trim()!==""&&(t(J(o.trim())),g(""))},I=s=>{var l;f(s);const a=(l=m.find(k=>k._id===s))==null?void 0:l.title;v(a)},A=s=>{console.log(h),t(P({id:s,title:h})),f(null)},E=s=>{window.confirm("Are you sure you want to delete this category?")&&t(L(s))},S=()=>{const s={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Categories",field:"name",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return m.forEach(a=>{s.rows.push({id:a._id,name:y===a._id?e.jsx("input",{type:"text",value:h,onChange:l=>v(l.target.value),className:"form-control"}):a.title,actions:y===a._id?e.jsx("button",{onClick:()=>A(a._id),className:"btn btn-primary",children:"Update"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>I(a._id),className:"btn btn-primary",children:[" ",e.jsx(K,{}),"  "]}),e.jsx("button",{onClick:()=>E(a._id),className:"btn btn-danger py-1 px-2 ml-2",children:e.jsx(M,{})})]})})}),s};return e.jsx("div",{children:C==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):C==="succeeded"&&m.length===0?e.jsxs(e.Fragment,{children:["   ",e.jsx("h1",{children:"No Categories Placed"}),e.jsxs(u,{className:"w-100 mb-3",children:[e.jsx(n,{xs:10,sm:10,md:10,lg:10,children:e.jsx("input",{className:"form-control",type:"text",value:o,onChange:s=>g(s.target.value)})}),e.jsx(n,{xs:2,sm:2,md:2,lg:2,children:e.jsxs(w,{type:"button",variant:"primary",onClick:N,children:[window.innerWidth<800?"":"ADD ",e.jsx(D,{fontSize:"1.5rem"})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mt-4",children:e.jsx(n,{children:e.jsx("h2",{children:"All Categories"})})}),e.jsxs(u,{className:"w-100 mb-3",children:[e.jsx(n,{xs:10,sm:10,md:10,lg:10,children:e.jsx("input",{className:"form-control",type:"text",value:o,onChange:s=>g(s.target.value)})}),e.jsx(n,{xs:2,sm:2,md:2,lg:2,children:e.jsxs(w,{type:"button",variant:"primary",onClick:N,children:[window.innerWidth<800?"":"ADD ",e.jsx(D,{fontSize:"1.5rem"})]})})]}),e.jsx(u,{children:e.jsx(n,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(O,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:S()})})})})]})})};export{Y as default};
