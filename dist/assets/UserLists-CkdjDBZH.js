import{n,aS as N,bn as y,bo as E,bp as w,v as g,k as A,r as x,bq as C,aK as R,j as e,H as j,J as m,aq as k,br as F,bs as q}from"./index-VLfZ_LXD.js";import{G as D}from"./mdbreact.esm-DvacgDJ9.js";import{M as c}from"./Modal-BoySAo34.js";const z=()=>{const o=n(N),s=n(y),d=n(E),l=n(w),r=g(),{enqueueSnackbar:i}=A();x.useEffect(()=>{if(d){i(d,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{r(C())}});return}r(R())},[r,d,i]);const u=()=>{const a={columns:[{label:"Register on",field:"loggedIn",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Phone Number",field:"number",sort:"asc"},{label:"Role",field:"type",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return o.forEach(t=>{a.rows.push({loggedIn:new Date(t.createdAt).toLocaleDateString(),name:t.name,number:t.phoneNumber,type:t.role,actions:e.jsx("button",{onClick:v=>f(v,t._id),className:"btn btn-primary",children:e.jsx(k,{})})})}),a},[b,h]=x.useState(!1),f=(a,t)=>{a.target.disabled=!0,h(!0),r(F(t))},p=()=>{h(!1),r(q())};return e.jsxs("div",{children:[l==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):l==="succeeded"&&o.length===0?e.jsx("h1",{children:"No User Placed"}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mt-4",children:e.jsx(m,{children:e.jsx("h2",{children:"All Users"})})}),e.jsx(j,{children:e.jsx(m,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(D,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:u()})})})})]}),e.jsxs(c,{show:b,onHide:p,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[e.jsx(c.Header,{closeButton:!0,children:e.jsx(c.Title,{id:"contained-modal-title-vcenter",children:s==null?void 0:s.name})}),e.jsx(c.Body,{children:l==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):e.jsx(e.Fragment,{children:e.jsx("div",{children:s&&e.jsxs(e.Fragment,{children:[s.avatar?e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx("img",{width:"120",height:"120",className:"rounded-circle border",src:s==null?void 0:s.avatar,alt:""})}):"",e.jsx("table",{className:"mt-4 w-100 table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Name"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.name]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Email"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.email]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Phone Number"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.phoneNumber]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Address"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.address,", ",s==null?void 0:s.city,", ",s==null?void 0:s.country,", ",s==null?void 0:s.postalCode]})]})]})})]})})})})]})]})};export{z as default};
